{% extends 'admin_panel/layouts/master.html' %}
{% load crispy_forms_tags %}
{% block title %} Top Slider Form {% endblock title %}

{% block content %}
<h1 class="app-page-title mt-lg-4 mb-0">Category Form</h1>
<hr>

<form action="" method="POST" class="form" enctype="multipart/form-data"> {% csrf_token %}
    
    <div class="row row-cols-1 row-cols-md-2">
        <div class="col">
            {{ form.name | as_crispy_field }}
        </div>
        <div class="col">
            {{ form.slug | as_crispy_field }}
        </div>
        <div class="col">
            {{ form.parent | as_crispy_field }}
        </div>
        <div class="col">
            {{ form.icon | as_crispy_field }}
        </div>
        
    </div>
    <div class="col">
        {{ form.order | as_crispy_field }}
    </div>
    <div class="mt-3">
        {{ form.is_active | as_crispy_field }}
    </div>
    
    <button type="submit" class="btn btn-primary mt-4 me-3">Submit</button>
    <a href="{% url 'category_all' %}" class="btn btn-dark mt-4"> Cancel</a>
</form> 

<!-- slug live auto write js -->
<!-- <script>
    // Function to convert name to slug
    function slugify(text) {
        return text.toString().toLowerCase()
            .replace(/\s+/g, '-')           // Replace spaces with -
            .replace(/[^\w\-]+/g, '')       // Remove all non-word chars
            .replace(/\-\-+/g, '-')         // Replace multiple - with single -
            .replace(/^-+/, '')             // Trim - from start of text
            .replace(/-+$/, '');            // Trim - from end of text
    }

    // Listen for input on the name field and update slug field
    document.getElementById('id_name').addEventListener('input', function() {
        let nameValue = this.value;
        document.getElementById('id_slug').value = slugify(nameValue);
    });
</script> -->

{% endblock content %}
